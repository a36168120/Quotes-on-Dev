!function(o){o(function(){let n="";o("#new-quote-button").on("click",function(t){t.preventDefault(),n=document.URL,o.ajax({method:"get",url:api_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(o){const n=o[0];console.log(n),history.pushState(null,null,n.slug)}).fail(function(){}),o(window).on("popstate",function(){window.location.replace(n)})}),o("#quote-submission-form").on("submit",function(n){n.preventDefault(),console.log("form submitted");const t=o("#quote-author").val();""!==t?o.ajax({method:"post",url:api_vars.rest_url+"wp/v2/posts",data:{title:t,content:"The most amazing quote by Gordon Ramsey",post_status:"pending"},beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",api_vars.nonce)}}).done(function(){console.log("yay"),o("#quote-submission-form").slideUp(2e3)}).fail(function(){console.log("nooo")}):console.log("no input")})})}(jQuery);